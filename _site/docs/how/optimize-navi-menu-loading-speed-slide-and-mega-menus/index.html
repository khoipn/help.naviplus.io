<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Optimize Navi+ menu loading speed (Slide & Mega menus)</title>
<meta name="description" content="Navi+ is very fast. It is fully deployed on a leading CDN with very low latency (around 100ms) and can serve millions of customers without slowing down.">

<link rel="canonical" href="http://localhost:4000/docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="http://localhost:4000/docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/">
<meta property="og:title" content="Optimize Navi+ menu loading speed (Slide & Mega menus)">
<meta property="og:description" content="Navi+ is very fast. It is fully deployed on a leading CDN with very low latency (around 100ms) and can serve millions of customers without slowing down.">

<meta property="og:image" content="http://localhost:4000/assets/images/naviplus-social-share.jpg">


<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="http://localhost:4000/docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/">
<meta property="twitter:title" content="Optimize Navi+ menu loading speed (Slide & Mega menus)">
<meta property="twitter:description" content="Navi+ is very fast. It is fully deployed on a leading CDN with very low latency (around 100ms) and can serve millions of customers without slowing down.">

<meta property="twitter:image" content="http://localhost:4000/assets/images/naviplus-social-share.jpg">



<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<!-- Remixicon CSS -->
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
<link rel="stylesheet" href="/theme/assets/css/theme-styles.css">

<style>

</style>

  </head>
  <body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <!-- Offcanvas Toggle for Sidebar (Left) -->
    <button class="navbar-toggler d-md-none me-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar" aria-label="Toggle sidebar">
      <span class="navbar-toggler-icon"></span>
    </button>

    <a class="navbar-brand" href="/">
      <img src="https://cdn.naviplus.app/naviplus/images/logo-navi-light.png" alt="Navi+ Logo" style="max-height: 30px; width: auto;" class="d-inline-block align-top img-fluid">
    </a>
    
    <!-- Main Navbar Toggle (Right) -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <i class="ri-more-2-fill"></i>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto" id="main-navbar-nav-links">
      </ul>
    </div>
  </div>
</nav>
    <div class="container-fluid flex-grow-1">
      <div class="row">
        <!-- Offcanvas Sidebar for Mobile -->
        <div class="offcanvas offcanvas-start bg-light sidebar-offcanvas d-md-none" tabindex="-1" id="offcanvasSidebar" aria-labelledby="offcanvasSidebarLabel">
          <div class="offcanvas-header shadow-sm border-bottom">
            <h5 class="offcanvas-title" id="offcanvasSidebarLabel">Navi+ Help Center</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body p-0">
            <!-- Sidebar content -->
            <nav class="bg-light sidebar h-100">
              <div class="position-sticky pt-3">
                




<ul class="nav flex-column">
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" href="/docs/why-can-navi-help-you-save-money/"><span class="sidebar-title-text flex-grow-1">Why can Navi+ help you save money?</span></a>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" href="/docs/is-navi-fast-does-it-affect-website-speed/"><span class="sidebar-title-text flex-grow-1">Is Navi+ fast? Does it affect website speed?</span></a>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item sidebar-separator-line">
      
        <!-- Render a separator line -->
        <div class="sidebar-separator-content"></div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-4" role="button" aria-expanded="true" aria-controls="collapse-4">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed d-none"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open"></i>
            <span class="sidebar-title-text flex-grow-1">How?</span>
          </span>
        </a>
        <div class="collapse show" id="collapse-4">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/, child_url_normalized: /docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link active" href="/docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/"><span class="sidebar-title-text flex-grow-1">Optimize Navi+ menu loading speed (Slide & Mega menus)</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/preventing-image-compression-in-navi/, child_url_normalized: /docs/how/preventing-image-compression-in-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/how/preventing-image-compression-in-navi/"><span class="sidebar-title-text flex-grow-1">Preventing image compression in Navi+</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/prevent-image-compression-when-uploading-with-navi/, child_url_normalized: /docs/how/prevent-image-compression-when-uploading-with-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/how/prevent-image-compression-when-uploading-with-navi/"><span class="sidebar-title-text flex-grow-1">Prevent image compression when uploading with Navi+</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-5" role="button" aria-expanded="false" aria-controls="collapse-5">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open d-none"></i>
            <span class="sidebar-title-text flex-grow-1">For developers</span>
          </span>
        </a>
        <div class="collapse " id="collapse-5">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/for-developers/how-to-write-a-correct-css-code-in-navi/, child_url_normalized: /docs/for-developers/how-to-write-a-correct-css-code-in-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/for-developers/how-to-write-a-correct-css-code-in-navi/"><span class="sidebar-title-text flex-grow-1">How to write a correct CSS code in Navi+</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-6" role="button" aria-expanded="false" aria-controls="collapse-6">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open d-none"></i>
            <span class="sidebar-title-text flex-grow-1">Others</span>
          </span>
        </a>
        <div class="collapse " id="collapse-6">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/how-to-other-applications-work-with-naviplus/, child_url_normalized: /docs/others/how-to-other-applications-work-with-naviplus/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/how-to-other-applications-work-with-naviplus/"><span class="sidebar-title-text flex-grow-1">How to prevent Navi+ from overlapping other apps like Chat/WhatsApp...?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/what-is-menu-depth-and-how-to-use/, child_url_normalized: /docs/others/what-is-menu-depth-and-how-to-use/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/what-is-menu-depth-and-how-to-use/"><span class="sidebar-title-text flex-grow-1">What is Menu depth and how to use?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/navi-service-plan-policies-starter-business-and-elite/, child_url_normalized: /docs/others/navi-service-plan-policies-starter-business-and-elite/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/navi-service-plan-policies-starter-business-and-elite/"><span class="sidebar-title-text flex-grow-1">Navi+ service plan policies. (Starter, Business & Elite)</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/why-arent-my-menu-search-and-cart-panels-working/, child_url_normalized: /docs/others/why-arent-my-menu-search-and-cart-panels-working/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/why-arent-my-menu-search-and-cart-panels-working/"><span class="sidebar-title-text flex-grow-1">Why aren't my Menu, Search, and Cart (panels) working?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/how-to-add-navi-to-separate-page-theme-session/, child_url_normalized: /docs/others/how-to-add-navi-to-separate-page-theme-session/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/how-to-add-navi-to-separate-page-theme-session/"><span class="sidebar-title-text flex-grow-1">How to add Navi+ to a separate page through Theme Session</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/why-navi-not-display/, child_url_normalized: /docs/others/why-navi-not-display/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/why-navi-not-display/"><span class="sidebar-title-text flex-grow-1">Why is Navi+ menu not displayed on my website?</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
</ul>

              </div>
            </nav>
          </div>
        </div>

        <!-- Sidebar for Desktop/Tablet -->
        <nav class="col-md-3 col-lg-2 d-none d-md-block bg-light sidebar shadow-sm border-end">
          <div class="position-sticky pt-3">
            




<ul class="nav flex-column">
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" href="/docs/why-can-navi-help-you-save-money/"><span class="sidebar-title-text flex-grow-1">Why can Navi+ help you save money?</span></a>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" href="/docs/is-navi-fast-does-it-affect-website-speed/"><span class="sidebar-title-text flex-grow-1">Is Navi+ fast? Does it affect website speed?</span></a>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item sidebar-separator-line">
      
        <!-- Render a separator line -->
        <div class="sidebar-separator-content"></div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-4" role="button" aria-expanded="true" aria-controls="collapse-4">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed d-none"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open"></i>
            <span class="sidebar-title-text flex-grow-1">How?</span>
          </span>
        </a>
        <div class="collapse show" id="collapse-4">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/, child_url_normalized: /docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link active" href="/docs/how/optimize-navi-menu-loading-speed-slide-and-mega-menus/"><span class="sidebar-title-text flex-grow-1">Optimize Navi+ menu loading speed (Slide & Mega menus)</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/preventing-image-compression-in-navi/, child_url_normalized: /docs/how/preventing-image-compression-in-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/how/preventing-image-compression-in-navi/"><span class="sidebar-title-text flex-grow-1">Preventing image compression in Navi+</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/how/prevent-image-compression-when-uploading-with-navi/, child_url_normalized: /docs/how/prevent-image-compression-when-uploading-with-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/how/prevent-image-compression-when-uploading-with-navi/"><span class="sidebar-title-text flex-grow-1">Prevent image compression when uploading with Navi+</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-5" role="button" aria-expanded="false" aria-controls="collapse-5">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open d-none"></i>
            <span class="sidebar-title-text flex-grow-1">For developers</span>
          </span>
        </a>
        <div class="collapse " id="collapse-5">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/for-developers/how-to-write-a-correct-css-code-in-navi/, child_url_normalized: /docs/for-developers/how-to-write-a-correct-css-code-in-navi/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/for-developers/how-to-write-a-correct-css-code-in-navi/"><span class="sidebar-title-text flex-grow-1">How to write a correct CSS code in Navi+</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
    
    
    

        
    
    

    <li class="nav-item">
      
        <a class="nav-link" data-bs-toggle="collapse" href="#collapse-6" role="button" aria-expanded="false" aria-controls="collapse-6">
          <span class="d-flex align-items-start sidebar-link-container">
            <i class="ri-folder-line sidebar-folder-icon-closed"></i>
            <i class="ri-folder-open-line sidebar-folder-icon-open d-none"></i>
            <span class="sidebar-title-text flex-grow-1">Others</span>
          </span>
        </a>
        <div class="collapse " id="collapse-6">
          <ul class="nav flex-column ps-3 sidebar-children-list">
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/how-to-other-applications-work-with-naviplus/, child_url_normalized: /docs/others/how-to-other-applications-work-with-naviplus/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/how-to-other-applications-work-with-naviplus/"><span class="sidebar-title-text flex-grow-1">How to prevent Navi+ from overlapping other apps like Chat/WhatsApp...?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/what-is-menu-depth-and-how-to-use/, child_url_normalized: /docs/others/what-is-menu-depth-and-how-to-use/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/what-is-menu-depth-and-how-to-use/"><span class="sidebar-title-text flex-grow-1">What is Menu depth and how to use?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/navi-service-plan-policies-starter-business-and-elite/, child_url_normalized: /docs/others/navi-service-plan-policies-starter-business-and-elite/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/navi-service-plan-policies-starter-business-and-elite/"><span class="sidebar-title-text flex-grow-1">Navi+ service plan policies. (Starter, Business & Elite)</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/why-arent-my-menu-search-and-cart-panels-working/, child_url_normalized: /docs/others/why-arent-my-menu-search-and-cart-panels-working/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/why-arent-my-menu-search-and-cart-panels-working/"><span class="sidebar-title-text flex-grow-1">Why aren't my Menu, Search, and Cart (panels) working?</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/how-to-add-navi-to-separate-page-theme-session/, child_url_normalized: /docs/others/how-to-add-navi-to-separate-page-theme-session/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/how-to-add-navi-to-separate-page-theme-session/"><span class="sidebar-title-text flex-grow-1">How to add Navi+ to a separate page through Theme Session</span></a>
                
              </li>
            
              
              
              

              <!-- DEBUG: child.url: /docs/others/why-navi-not-display/, child_url_normalized: /docs/others/why-navi-not-display/ -->

              <li class="nav-item sidebar-tree-item">
                
                  <a class="nav-link" href="/docs/others/why-navi-not-display/"><span class="sidebar-title-text flex-grow-1">Why is Navi+ menu not displayed on my website?</span></a>
                
              </li>
            
          </ul>
        </div>
      
    </li>
  
</ul>

          </div>
        </nav>

        <!-- Main Content -->
        <main class="col-12 col-md-9 ms-sm-auto col-lg-10 px-md-4 py-3">
          
          <div class="content-wrapper">
            <h1 id="optimize-navi-menu-loading-speed-slide--mega-menus">Optimize Navi+ menu loading speed (Slide &amp; Mega menus)</h1>

<h4 id="why-do-you-need-to-do-this-isnt-navi-already-fast">Why do you need to do this? Isn’t Navi+ already fast?</h4>

<p>Navi+ is very fast. It is fully deployed on a leading CDN with very low latency (around 100ms) and can serve millions of customers without slowing down.</p>

<p>However, Navi+ still runs within the Shopify ecosystem. Shopify has its own loading rules:</p>

<ol>
  <li>Shopify prioritizes loading its own resources first.</li>
  <li>Then Shopify loads the theme content.</li>
  <li>Finally, Shopify loads app content, but not in any specific order.</li>
</ol>

<p>This means if you are using multiple apps, Navi+ may sometimes be loaded later than expected. That’s why it can feel slower in certain cases.</p>

<hr />

<h3 id="what-is-my-solution">What is my solution?</h3>

<p>Currently, Navi+ has high priority when loading on Shopify websites. However, there is still a certain delay. We will address these issues one by one here:</p>

<h4 id="slide-menu-add-a-loading-effect-and-lock-the-trigger-selector">Slide Menu: Add a loading effect and lock the trigger selector</h4>

<p>Very simple: just enter the CSS selector you use for the Slide Menu into the embed section of the Navi+ app (see image below).</p>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2FYlq4CLWLSuRLKnmYmBHj%2F1.1.png?alt=media&#x26;token=c806da22-bcf7-4bfe-b88c-b5e17d95803b" alt="" /><figcaption></figcaption></figure>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2FEIocXFLDBcobQR68F7QI%2F1.2.png?alt=media&#x26;token=f7fc10da-d538-4e33-aa46-55b40223f417" alt="" /><figcaption></figcaption></figure>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2FgvnasnKF0IHLNHJUnl8n%2F1.3.png?alt=media&#x26;token=47ae5ab0-eb82-4fa7-99ae-264869a09059" alt="" /><figcaption></figcaption></figure>

<h4 id="mega-menu-replacement-mode-add-a-loading-effect-and-lock-the-trigger-selector">Mega Menu (Replacement mode): Add a loading effect and lock the trigger selector</h4>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2Fk4HYuop9Aq2GRnk4OEWT%2F2.1.png?alt=media&#x26;token=ddeb17b5-23d7-4870-b9ac-fb95b6e250b7" alt="" /><figcaption></figcaption></figure>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2F3CWBvH8fNoj0AHJJ68so%2F2.2.png?alt=media&#x26;token=8282df62-c2c4-4fba-a087-2eb6ea4e50dd" alt="" /><figcaption></figcaption></figure>

<figure><img src="https://4226540503-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F4y2gLTmg4ToH5vkorG8s%2Fuploads%2Fqu827HEiR3F515aSXcH1%2F2.3.png?alt=media&#x26;token=0873fe1c-31a6-45a9-8700-f09dc39f9c52" alt="" /><figcaption></figcaption></figure>

<p>Note:</p>

<ul>
  <li>Add the suffix <strong>(M)</strong> if you want it to apply only on mobile.</li>
  <li>Add the suffix <strong>(D)</strong> if you want it to apply only on desktop.</li>
  <li>Leave no suffix if you want it to apply on both platforms.</li>
</ul>

          </div>
        </main>
      </div>
    </div>
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="/theme/assets/js/sidebar.js"></script>
    <script src="/theme/assets/js/navbar-links.js"></script> <!-- New: Include navbar-links.js -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const navLinksContainer = document.getElementById('main-navbar-nav-links');
        if (navLinksContainer && typeof navbarLinks !== 'undefined') {
          navbarLinks.forEach(linkData => {
            const li = document.createElement('li');
            li.className = 'nav-item';
            const a = document.createElement('a');
            a.className = 'nav-link';
            a.href = linkData.url;
            a.textContent = linkData.title;
            if (linkData.external) {
              a.target = '_';
              a.rel = 'noopener';
            }
            // Add active class if current page matches
            // Need to handle site.baseurl if it's not empty
            const currentPathname = window.location.pathname;
            const baseUrl = ''.endsWith('/') ? ''.slice(0, -1) : '';
            const normalizedLinkUrl = linkData.url.startsWith(baseUrl) ? linkData.url.substring(baseUrl.length) : linkData.url;
            const normalizedCurrentPath = currentPathname.startsWith(baseUrl) ? currentPathname.substring(baseUrl.length) : currentPathname;

            if (normalizedCurrentPath === normalizedLinkUrl || (normalizedLinkUrl === '/' && normalizedCurrentPath === '/')) {
                a.classList.add('active');
            }

            li.appendChild(a);
            navLinksContainer.appendChild(li);
          });
        }
      });
    </script><script src="/theme/assets/js/navbar-links.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const navLinksContainer = document.getElementById('main-navbar-nav-links');
        if (navLinksContainer && typeof navbarLinks !== 'undefined') {
          navbarLinks.forEach(linkData => {
            const li = document.createElement('li');
            li.className = 'nav-item';
            const a = document.createElement('a');
            a.className = 'nav-link';
            a.href = linkData.url;
            a.textContent = linkData.title;
            if (linkData.external) {
              a.target = '_blank'; // Corrected target to _blank
              a.rel = 'noopener';
            }
            // Add active class if current page matches
            const currentPathname = window.location.pathname;
            const baseUrl = ''.endsWith('/') ? ''.slice(0, -1) : '';
            const normalizedLinkUrl = linkData.url.startsWith(baseUrl) ? linkData.url.substring(baseUrl.length) : linkData.url;
            const normalizedCurrentPath = currentPathname.startsWith(baseUrl) ? currentPathname.substring(baseUrl.length) : currentPathname;

            if (normalizedCurrentPath === normalizedLinkUrl || (normalizedLinkUrl === '/' && normalizedCurrentPath === '/')) {
                a.classList.add('active');
            }

            li.appendChild(a);
            navLinksContainer.appendChild(li);
          });
        }
      });
    </script>

  </body>
</html>
